(function(){"use strict";var e;(function(){e={},e.modeJs=function(){try{return typeof 
navigator.userAgent=="string"&&typeof document.querySelector("body")=="object"&&typeof 
XMLHttpRequest.prototype.open=="function"&&"browser"}catch(e){return module.exports&&typeof 
process.versions.node=="string"&&typeof require("http").createServer=="function"&&"node"
}}(),e.global=e.modeJs==="browser"?window:global,e=e.global.utility2_rollup||(e.
modeJs==="browser"?e.global.swgg:global.utility2_moduleExports),e.global.local=e
,e.db.dbLoad(function(){console.log("db loaded from "+e.storageDir)}),e.middlewareCrudCustom=
function(t,n,r){var i,s,o;s={},e.onNext(s,function(u,a){switch(s.modeNext){case 1
:i=t.swgg.crud;switch(i.operationId.split(".")[0]){case"crudErrorPre":s.onNext(e
.errorDefault);return;case"getInventory":i.dbTable.crudGetManyByQuery({query:{},
projection:["status"]},s.onNext);break;default:s.modeNext=Infinity,s.onNext()}break;
case 2:switch(i.operationId.split(".")[0]){case"getInventory":o={},a.forEach(function(
e){o[e.status]=o[e.status]||0,o[e.status]+=1}),s.onNext(null,o)}break;case 3:e.swgg
.serverRespondJsonapi(t,n,u,a);break;default:r(u,a)}}),s.modeNext=0,s.onNext()},
e.middlewareInitCustom=function(t,n,r){n.setHeader("Access-Control-Allow-Methods"
,"DELETE,GET,HEAD,OPTIONS,PATCH,POST,PUT"),n.setHeader("Access-Control-Allow-Origin"
,"*"),n.setHeader("Content-Type","application/json; charset=UTF-8");if(t.urlParsed
.pathname.slice(-4)===".map"){e.serverRespondDefault(t,n,404);return}r()},e.utility2
._middleware=e.middlewareGroupCreate([e.middlewareInit,e.middlewareForwardProxy,
e.middlewareAssetsCached,e.swgg.middlewareRouter,e.swgg.middlewareUserLogin,e.middlewareInitCustom
,e.utility2._middlewareJsonpStateInit,e.middlewareBodyRead,e.swgg.middlewareBodyParse
,e.swgg.middlewareValidate,e.middlewareCrudCustom,e.swgg.middlewareCrudBuiltin,e
.swgg.middlewareCrudEnd]),e.testRunServer(e)})();switch(e.modeJs){case"browser":
e.testRun=function(t){var n,r;switch(t&&t.currentTarget.id){case"dbExportButton1"
:r=window.URL.createObjectURL(new window.Blob([e.db.dbExport()])),document.querySelector
("#dbExportA1").href=r,document.querySelector("#dbExportA1").click(),setTimeout(
function(){window.URL.revokeObjectURL(r)},3e4);break;case"dbImportButton1":document
.querySelector("#dbImportInput1").click();break;case"dbImportInput1":e.ajaxProgressShow
(),n=new window.FileReader,r=document.querySelector("#dbImportInput1").files[0];
if(!r)return;n.addEventListener("load",function(){e.db.dbImport(n.result),e.ajaxProgressUpdate
()}),n.readAsText(r);break;case"dbResetButton1":e.dbReset();break;case"testRunButton1"
:document.querySelector("#testReportDiv1").style.display==="none"?(document.querySelector
("#testReportDiv1").style.display="block",document.querySelector("#testRunButton1"
).innerText="hide internal test",e.modeTest=!0,e.testRunDefault(e)):(document.querySelector
("#testReportDiv1").style.display="none",document.querySelector("#testRunButton1"
).innerText="run internal test")}},["change","click"].forEach(function(t){Array.
from(document.querySelectorAll(".on"+t)).forEach(function(n){n.addEventListener(
t,e.testRun)})}),e.swgg.uiEventListenerDict[".onEventUiReload"](),e.runIfTrue(e.
modeTest,function(){document.querySelector("#testRunButton1").innerText="hide internal test"
});break;case"node":module.exports=e,e.tryCatchOnError(function(){e.assetsWrite("/assets.example.js"
,e.fs.readFileSync(__filename,"utf8"))},e.nop),e.templateIndexHtml='<!doctype html>\n<html lang="en">\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1">\n<title>{{env.npm_package_name}} v{{env.npm_package_version}}</title>\n<link href="assets.swgg.css" rel="stylesheet">\n<style>\n/*csslint\n    box-sizing: false,\n    universal-selector: false\n*/\n* {\n    box-sizing: border-box;\n}\nbody {\n    background: #fff;\n    font-family: Arial, Helvetica, sans-serif;\n    margin: 2rem;\n}\nbody > * {\n    margin-bottom: 1rem;\n}\n</style>\n<style>\n/*csslint\n*/\nbody > button {\n    width: 15rem;\n}\n.zeroPixel {\n    border: 0;\n    height: 0;\n    margin: 0;\n    padding: 0;\n    width: 0;\n}\n</style>\n</head>\n<body>\n\n    <div id="ajaxProgressDiv1" style="background: #d00; height: 4px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;"></div>\n\n    <h1>\n\n        <a\n            {{#if env.npm_package_homepage}}\n            href="{{env.npm_package_homepage}}"\n            {{/if env.npm_package_homepage}}\n            target="_blank"\n        >\n\n            {{env.npm_package_name}} v{{env.npm_package_version}}\n\n        </a>\n\n    </h1>\n    <h3>{{env.npm_package_description}}</h3>\n\n    <h4><a download href="assets.app.js">download standalone app</a></h4>\n    <button class="onclick" id="testRunButton1">run internal test</button><br>\n    <div id="testReportDiv1" style="display: none;"></div>\n\n\n    <button class="onclick" id="dbResetButton1">reset database</button><br>\n    <button class="onclick" id="dbExportButton1">export database -&gt; file</button><br>\n    <a download="db.persistence.json" href="" id="dbExportA1"></a>\n    <button class="onclick" id="dbImportButton1">import database &lt;- file</button><br>\n    <input class="onchange zeroPixel" type="file" id="dbImportInput1">\n    <div class="swggUiContainer">\n    <form class="header tr">\n        <a class="td1" href="http://swagger.io" target="_blank">swagger</a>\n        <input\n            class="flex1 td2"\n            placeholder="http://petstore.swagger.io/v2/swagger.json"\n            type="text"\n            value="{{env.npm_config_swagger_basePath}}/swagger.json"\n        >\n    </form>\n    <div class="reset"></div>\n    </div>\n\n    {{#if isRollup}}\n    <script src="assets.app.min.js"></script>\n    {{#unless isRollup}}\n\n    <script src="assets.utility2.rollup.js"></script>\n    <script src="assets.swgg.js"></script>\n    <script src="assets.lib.swgg.ui.js"></script>\n    <script src="jsonp.utility2._stateInit?callback=window.utility2._stateInit"></script>\n    <script>window.utility2.onResetBefore.counter += 1;</script>\n    <script src="assets.example.js"></script>\n    <script src="assets.test.js"></script>\n    <script>window.utility2.onResetBefore();</script>\n\n    {{/if isRollup}}\n\n</body>\n</html>\n'
,e.assetsDict["/"]=e.templateRender(e.templateIndexHtml,{env:e.objectSetDefault(
e.env,{npm_package_description:"example module",npm_package_name:"example",npm_package_version
:"0.0.1"})})}(function(){e.tmp=JSON.parse(e.assetsDict["/assets.lib.swgg.petstore.json"
]),delete e.tmp.basePath,delete e.tmp.host,delete e.tmp.schemes,e.swgg.apiDictUpdate
(e.tmp),e.swgg.apiDictUpdate({definitions:{File:{allOf:[{$ref:"#/definitions/BuiltinFile"
}]},Pet:{properties:{_id:{readOnly:!0,type:"string"},_timeCreated:{format:"date-time"
,readOnly:!0,type:"string"},_timeUpdated:{format:"date-time",readOnly:!0,type:"string"
},id:{"default":1,minimum:1}}},Order:{properties:{_id:{readOnly:!0,type:"string"
},_timeCreated:{format:"date-time",readOnly:!0,type:"string"},_timeUpdated:{format
:"date-time",readOnly:!0,type:"string"},id:{"default":1,minimum:1}}},User:{allOf
:[{$ref:"#/definitions/BuiltinUser"}],properties:{_id:{readOnly:!0,type:"string"
},_timeCreated:{format:"date-time",readOnly:!0,type:"string"},_timeUpdated:{format
:"date-time",readOnly:!0,type:"string"},email:{"default":"a@a.com",format:"email"
},id:{"default":1,minimum:1}}}},tags:[{description:"builtin-file model",name:"file"
}],"x-swgg-apiDict":{"file crudCountManyByQuery":{_schemaName:"File"},"file crudSetOneById.id.id"
:{_schemaName:"File"},"file crudGetManyByQuery":{_schemaName:"File"},"file crudRemoveOneById.id.id"
:{_schemaName:"File"},"file crudUpdateOneById.id.id":{_schemaName:"File"},"file fileGetOneById.id.id"
:{_schemaName:"File"},"file fileUploadManyByForm.1":{_schemaName:"File"},"pet addPet"
:{_operationId:"crudSetOneById.petId.id",_schemaName:"Pet"},"pet crudGetManyByQuery"
:{_schemaName:"Pet"},"pet deletePet":{_operationId:"crudRemoveOneById.petId.id",
_schemaName:"Pet"},"pet findPetsByStatus":{_operationId:"crudGetManyByQuery",_queryWhere
:'{"status":{"$in":{{status jsonStringify}}}}',_schemaName:"Pet"},"pet findPetsByTags"
:{_operationId:"crudGetManyByQuery",_queryWhere:'{"tags.name":{"$in":{{tags jsonStringify}}}}'
,_schemaName:"Pet"},"pet getPetById":{_operationId:"crudGetOneById.petId.id",_schemaName
:"Pet"},"pet updatePet":{_operationId:"crudUpdateOneById.petId.id",_schemaName:"Pet"
},"pet updatePetWithForm":{_operationId:"crudUpdateOneById.petId.id",_schemaName
:"Pet"},"pet uploadFile":{_operationId:"fileUploadManyByForm",_schemaName:"User"
},"store crudGetManyByQuery":{_schemaName:"Order"},"store crudUpdateOneById.id.id"
:{_schemaName:"Order"},"store deleteOrder":{_operationId:"crudRemoveOneById.orderId.id"
,_schemaName:"Order"},"store getInventory":{_schemaName:"Order"},"store getOrderById"
:{_operationId:"crudGetOneById.orderId.id",_schemaName:"Order"},"store placeOrder"
:{_operationId:"crudSetOneById.orderId.id",_schemaName:"Order"},"user createUser"
:{_operationId:"crudSetOneById.username.username",_schemaName:"User"},"user createUsersWithArrayInput"
:{_operationId:"crudSetManyById",_schemaName:"User"},"user createUsersWithListInput"
:{_operationId:"crudSetManyById",_schemaName:"User"},"user crudCountManyByQuery"
:{_schemaName:"User"},"user crudSetOneById.username.username":{_schemaName:"User"
},"user crudRemoveOneById.username.username":{_schemaName:"User"},"user crudGetManyByQuery"
:{_schemaName:"User"},"user crudUpdateOneById.username.username":{_schemaName:"User"
},"user deleteUser":{_operationId:"crudRemoveOneById.username.username",_schemaName
:"User"},"user getUserByName":{_operationId:"crudGetOneById.username.username",_schemaName
:"User"},"user loginUser":{_operationId:"userLoginByPassword",_schemaName:"User"
},"user logoutUser":{_operationId:"userLogout",_schemaName:"User"},"user updateUser"
:{_operationId:"crudUpdateOneById.username.username",_schemaName:"User"},"user userLoginByPassword"
:{_schemaName:"User"},"user userLogout":{_schemaName:"User"}},"x-swgg-datatableDict"
:{file:{crudSetOneById:"file crudSetOneById.id.id",crudRemoveOneById:"file crudRemoveOneById.id.id"
,crudGetManyByQuery:"file crudGetManyByQuery",schema:{$ref:"#/definitions/File"}
},pet:{crudSetOneById:"pet addPet",crudRemoveOneById:"pet deletePet",crudGetManyByQuery
:"pet crudGetManyByQuery",schema:{$ref:"#/definitions/Pet"}},store:{crudSetOneById
:"store placeOrder",crudRemoveOneById:"store deleteOrder",crudGetManyByQuery:"store crudGetManyByQuery"
,schema:{$ref:"#/definitions/Order"}},user:{crudSetOneById:"user createUser",crudRemoveOneById
:"user deleteUser",crudGetManyByQuery:"user crudGetManyByQuery",schema:{$ref:"#/definitions/User"
}}}}),e.dbSeedList=[{dbRowList:[{id:"testCase_swaggerUiLogoSmall",fileBlob:e.swgg
.templateSwaggerUiLogoSmallBase64,fileContentType:"image/png",fileDescription:"swagger-ui logo"
,fileFilename:"swaggerUiLogoSmall.png"}],idIndexCreateList:[{name:"id"}],name:"File"
},{dbRowList:e.swgg.dbRowListRandomCreate({dbRowList:[{id:0,name:"birdie",photoUrls
:[],status:"available",tags:[{name:"bird"}]},{id:1,name:"doggie",status:"pending"
,photoUrls:[],tags:[{name:"dog"}]},{id:2,name:"fishie",photoUrls:[],status:"sold"
,tags:[{name:"fish"}]}],length:100,override:function(t){return{id:t.ii+100,name:
e.listGetElementRandom(["birdie","doggie","fishie"])+"-"+(t.ii+100),tags:[{name:
e.listGetElementRandom(["female","male"])}]}},properties:e.swgg.swaggerJson.definitions
.Pet.properties}),idIndexCreateList:[{isInteger:!0,name:"id"}],name:"Pet"},{dbRowList
:e.swgg.dbRowListRandomCreate({dbRowList:[{id:0,petId:0,status:"available"},{id:1
,petId:1,status:"pending"},{id:2,petId:2,status:"sold"}],length:100,override:function(
e){return{id:e.ii+100,petId:e.ii+100}},properties:e.swgg.swaggerJson.definitions
.Order.properties}),idIndexCreateList:[{isInteger:!0,name:"id"}],name:"Order"},{
dbRowList:e.swgg.dbRowListRandomCreate({dbRowList:[{email:"admin@admin.com",firstName
:"admin",id:0,lastName:"",password:e.sjclHashScryptCreate("secret"),phone:"1234-5678"
,username:"admin"},{email:"jane@doe.com",firstName:"jane",id:1,lastName:"doe",password
:e.sjclHashScryptCreate("secret"),phone:"1234-5678",username:"jane.doe"},{email:"john@doe.com"
,firstName:"john",id:2,lastName:"doe",password:e.sjclHashScryptCreate("secret"),
phone:"1234-5678",username:"john.doe"}],length:100,override:function(t){return{firstName
:e.listGetElementRandom(["alice","bob","jane","john"])+"-"+(t.ii+100),id:t.ii+100
,lastName:e.listGetElementRandom(["doe","smith"])+"-"+(t.ii+100),password:e.sjclHashScryptCreate
("secret"),tags:[{name:e.listGetElementRandom(["female","male"])},{name:Math.random
().toString(36).slice(2)}]}},properties:e.swgg.swaggerJson.definitions.User.properties
}),idIndexCreateList:[{name:"email"},{name:"id",isInteger:!0},{name:"username"}]
,name:"User"}],e.dbReset=e.utility2._testRunBefore=function(){e.onResetBefore.counter+=1
,e.db.dbDrop(e.onResetBefore),e.onResetAfter(function(){console.log("db seeding ..."
),e.onReadyBefore.counter+=1,e.db.dbTableCreateMany(e.dbSeedList,e.onReadyBefore
),e.onReadyBefore.counter+=1,e.db.dbTableCreateMany(e.dbSeedTestList,e.onReadyBefore
)})}})()})()